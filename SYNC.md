# üîÑ SYNC.md ‚Äî –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –º–µ–∂–¥—É —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞–º–∏

> –ß–∏—Ç–∞—é—Ç –û–ë–ê: Cursor –∏ Windsurf

---

## üìÅ –ö—Ç–æ –∑–∞ —á—Ç–æ –æ—Ç–≤–µ—á–∞–µ—Ç

| –†–µ–¥–∞–∫—Ç–æ—Ä | –ü–∞–ø–∫–∏ | –ó–∞–¥–∞—á–∏ |
|----------|-------|--------|
| **Cursor** | `mini-app/`, `backend/`, `bot/` | Mini App, API, –±–æ—Ç |
| **Windsurf** | `tablet-app/` | –ü–ª–∞–Ω—à–µ—Ç (React Native) |
| **–û–±–∞** | `shared/` | –û–±—â–∏–µ —Ç–∏–ø—ã (–Ω–µ –º–µ–Ω—è—Ç—å –±–µ–∑ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è!) |

---

## üîó API –ö–æ–Ω—Ç—Ä–∞–∫—Ç

### GET /api/users/by-telegram/{telegram_id}

**–ö–æ–≥–¥–∞:** –ü–ª–∞–Ω—à–µ—Ç —Å–∫–∞–Ω–∏—Ä—É–µ—Ç QR `user:123456789`

```json
// 200 OK
{
  "id": "uuid-string",
  "telegram_id": 123456789,
  "name": "–ê–ª–µ–∫—Å–µ–π",
  "phone": null,
  "photo_url": "https://...",
  "is_pro": false
}

// 404
{ "detail": "User not found" }
```

### POST /api/users

**–ö–æ–≥–¥–∞:** Mini App —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –Ω–æ–≤–æ–≥–æ –∏–≥—Ä–æ–∫–∞

```json
// Request
{
  "telegram_id": 123456789,
  "name": "–ê–ª–µ–∫—Å–µ–π",
  "photo_url": "https://..."
}

// Response 201
{ "id": "uuid", "telegram_id": 123456789, "name": "–ê–ª–µ–∫—Å–µ–π", ... }
```

### POST /api/matches

**–ö–æ–≥–¥–∞:** –ü–ª–∞–Ω—à–µ—Ç —Å–æ–∑–¥–∞—ë—Ç –º–∞—Ç—á

```json
{
  "court_id": "court-1",
  "positions": {
    "1": { "id": "uuid-1", "name": "–ê–ª–µ–∫—Å–µ–π" },
    "2": { "id": "uuid-2", "name": "–ú–∞—Ä–∏–Ω–∞" },
    "3": { "id": "uuid-3", "name": "–î–º–∏—Ç—Ä–∏–π" },
    "4": { "id": "uuid-4", "name": "–ê–Ω–Ω–∞" }
  },
  "best_of": 3
}
```

---

## üì± QR –§–æ—Ä–º–∞—Ç

```
user:{telegram_id}
```

**–ü–∞—Ä—Å–∏–Ω–≥ (TypeScript):**
```typescript
function parseQR(qr: string) {
  const match = qr.match(/^user:(\d+)$/);
  return match ? { telegram_id: parseInt(match[1], 10) } : null;
}
```

---

## üèüÔ∏è –ü–æ–∑–∏—Ü–∏–∏ –Ω–∞ –∫–æ—Ä—Ç–µ

```
       –°–ï–¢–ö–ê
  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
  ‚îÇ  1  ‚îÇ  2  ‚îÇ  ‚Üê Team A
  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
  ‚îÇ  3  ‚îÇ  4  ‚îÇ  ‚Üê Team B
  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
      –°–¢–ï–ö–õ–û
```

---

## ‚ö†Ô∏è –ü—Ä–∞–≤–∏–ª–∞

1. **–¢–∏–ø—ã –∏–∑ `shared/types.ts`** ‚Äî –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã
2. **QR = telegram_id**, –Ω–µ UUID!
3. **–ü–ª–∞–Ω—à–µ—Ç –∫—ç—à–∏—Ä—É–µ—Ç –∏–≥—Ä–æ–∫–æ–≤** (—Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ñ—Ñ–ª–∞–π–Ω)

---

## üöÄ –ó–∞–ø—É—Å–∫ (–¥–µ–≤)

```bash
# Backend
cd backend && uvicorn main:app --reload --port 8000

# Mini App —Å–µ—Ä–≤–µ—Ä  
cd bot && python http_server.py  # :8080

# –¢—É–Ω–Ω–µ–ª—å
npx localtunnel --port 8080 --subdomain padelsense

# Tablet
cd tablet-app && npx expo start
```

---

## üìù –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

| –î–∞—Ç–∞ | –ò–∑–º–µ–Ω–µ–Ω–∏–µ | –ê–≤—Ç–æ—Ä |
|------|-----------|-------|
| 31.01.2026 | –£–ª—É—á—à–µ–Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ Mini App: localStorage, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫, UX | KimiCode |
| 31.01.2026 | –°–æ–∑–¥–∞–Ω–∞ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Ñ–æ—Ä–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –∏ –ø–æ–ª–∏—Ç–∏–∫–æ–π –†–§ | KimiCode |
| 31.01.2026 | –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø: –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏, –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è | KimiCode |
