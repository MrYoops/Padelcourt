<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test PadelSense Registration</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background: #1a1a1a; color: #fff; }
        .test-section { margin: 20px 0; padding: 15px; border: 1px solid #333; border-radius: 8px; }
        .success { color: #10b981; }
        .error { color: #ef4444; }
        .info { color: #3b82f6; }
        button { padding: 10px 20px; margin: 5px; background: #10b981; color: white; border: none; border-radius: 4px; cursor: pointer; }
        button:hover { background: #059669; }
        iframe { width: 100%; height: 600px; border: 1px solid #333; border-radius: 8px; }
    </style>
</head>
<body>
    <h1>üß™ –¢–µ—Å—Ç PadelSense Registration</h1>
    
    <div class="test-section">
        <h2>üìã –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–≤–µ—Ä–æ–≤</h2>
        <div id="server-status">–ü—Ä–æ–≤–µ—Ä–∫–∞...</div>
        <button onclick="checkServers()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ—Ä–≤–µ—Ä—ã</button>
    </div>

    <div class="test-section">
        <h2>üì± Mini App –≤ iframe</h2>
        <p>–û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000 –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π –≤–∫–ª–∞–¥–∫–µ –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</p>
        <iframe src="http://localhost:3000" id="miniapp-frame"></iframe>
    </div>

    <div class="test-section">
        <h2>üîç –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</h2>
        <div id="manual-test">
            <p><strong>–®–∞–≥ 1:</strong> –û—Ç–∫—Ä–æ–π—Ç–µ <a href="http://localhost:3000" target="_blank">http://localhost:3000</a></p>
            <p><strong>–®–∞–≥ 2:</strong> –î–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è —Ñ–æ—Ä–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (–Ω–µ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω!)</p>
            <p><strong>–®–∞–≥ 3:</strong> –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:</p>
            <ul>
                <li>–ò–º—è: –¢–µ—Å—Ç</li>
                <li>–§–∞–º–∏–ª–∏—è: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</li>
                <li>–¢–µ–ª–µ—Ñ–æ–Ω: –Ω–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å 9991234567</li>
                <li>Email: test@example.com</li>
                <li>‚úÖ –ì–∞–ª–æ—á–∫–∞ "–æ–±—Ä–∞–±–æ—Ç–∫—É –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö"</li>
            </ul>
            <p><strong>–®–∞–≥ 4:</strong> –ù–∞–∂–º–∏—Ç–µ "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è"</p>
            <p><strong>–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:</strong> –ö–Ω–æ–ø–∫–∞ –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è..." ‚Üí –∞–ª–µ—Ä—Ç "–û—Ç–∫—Ä–æ–π—Ç–µ —á–µ—Ä–µ–∑ Telegram"</p>
        </div>
    </div>

    <div class="test-section">
        <h2>üìä –ö–æ–Ω—Å–æ–ª—å–Ω—ã–µ –ª–æ–≥–∏</h2>
        <p>–û—Ç–∫—Ä–æ–π—Ç–µ F12 –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∏ —Å–º–æ—Ç—Ä–∏—Ç–µ –≤–∫–ª–∞–¥–∫—É Console –¥–ª—è –ª–æ–≥–æ–≤ –æ—Ç–ª–∞–¥–∫–∏</p>
        <div id="console-logs">–õ–æ–≥–∏ –ø–æ—è–≤—è—Ç—Å—è –∑–¥–µ—Å—å...</div>
    </div>

    <script>
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–≤–µ—Ä–æ–≤
        async function checkServers() {
            const statusDiv = document.getElementById('server-status');
            statusDiv.innerHTML = '<div class="info">–ü—Ä–æ–≤–µ—Ä–∫–∞...</div>';
            
            try {
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ backend
                const backendResponse = await fetch('http://localhost:8000/health');
                const backendStatus = backendResponse.ok ? 
                    '<div class="success">‚úÖ Backend API: http://localhost:8000 - —Ä–∞–±–æ—Ç–∞–µ—Ç</div>' : 
                    '<div class="error">‚ùå Backend API: –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç</div>';
                
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ mini app
                const miniAppResponse = await fetch('http://localhost:3000');
                const miniAppStatus = miniAppResponse.ok ? 
                    '<div class="success">‚úÖ Mini App: http://localhost:3000 - —Ä–∞–±–æ—Ç–∞–µ—Ç</div>' : 
                    '<div class="error">‚ùå Mini App: –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç</div>';
                
                statusDiv.innerHTML = backendStatus + miniAppStatus;
                
            } catch (error) {
                statusDiv.innerHTML = '<div class="error">‚ùå –û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏: ' + error.message + '</div>';
            }
        }

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.onload = function() {
            checkServers();
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
            setTimeout(() => {
                document.getElementById('console-logs').innerHTML = 
                    '<div class="info">‚ÑπÔ∏è –û—Ç–∫—Ä–æ–π—Ç–µ F12 ‚Üí Console –≤ http://localhost:3000 —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –ª–æ–≥–∏ showView –∏ checkUserExists</div>';
            }, 1000);
        };
    </script>
</body>
</html>
